!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=Object.freeze({__proto__:null,default:[{caption:"А1",questions:[{question:"<skip></skip> они живут?",answers:{true:["Где"],false:["Когда","Куда"]}},{question:"Ресторан <skip></skip> <q>Грабли</q>.",answers:{true:["называется"],false:["имя","зовут"]}},{question:"Мой друг <skip></skip> в университете.",answers:{true:["учится"],false:["изучает","учит"]}},{question:"Я прекрасно <skip></skip> по-русски.",answers:{true:["говорю"],false:["говорят","скажу"]}},{question:"В праздники люди любят гулять <skip></skip>.",answers:{true:["на площади"],false:["на площаде","в площади","площаде"]}},{question:"Они не <skip></skip> русский язык.",answers:{true:["понимают"],false:["понять","понимаем"]}},{question:"Она очень <skip></skip>.",answers:{true:["красивая"],false:["красивой","красивый"]}},{question:"Мы живём в <skip></skip>.",answers:{true:["Москве"],false:["Москва","Москву"]}},{question:"Москва это <skip></skip> город.",answers:{true:["наш"],false:["наша","наше"]}},{question:"<skip></skip> 25 лет.",answers:{true:["Мне"],false:["У меня","Меня"]}},{question:"<skip></skip> есть собака?",answers:{true:["У тебя"],false:["Тебе","Тебя"]}},{question:"Обычно я встаю рано <skip></skip>.",answers:{true:["утром"],false:["вечером","днём"]}},{question:"Я подарила <skip></skip> сувенир.",answers:{true:["Анне"],false:["Анни","Анну"]}},{question:"Сегодня вечером мы <skip></skip> дома.",answers:{true:["ужинаем"],false:["завтракаем","обедаем"]}},{question:"Вчера я долго <skip></skip>.",answers:{true:["работал"],false:["работаю","работало"]}},{question:"Русские любят есть салат <skip></skip>.",answers:{true:["с майонезом"],false:["майонез","из майонеза"]}},{question:"Это карандаш <skip></skip>.",answers:{true:["Виктора"],false:["Виктору","Виктор"]}},{question:"Мой отец <skip></skip> говорит по-английски.",answers:{true:["хорошо"],false:["хороший","хорошая"]}},{question:"Ты любишь заниматься <skip></skip>?",answers:{true:["спортом"],false:["спорт","спорте"]}},{question:"Я часто <skip></skip> в отпуск.",answers:{true:["езжу в Санкт-Петербург"],false:["хожу в Санкт-Петербург","езжу в Санкт-Петербурге","еду в Санкт-Петербург"]}}]},{caption:"А2",questions:[{question:"Это моя младшая сестра, а вот это &mdash; <skip></skip>.",answers:{true:["старшая"],false:["старая","большая"]}},{question:"Петя, иди <skip></skip>, помоги мне найти ключи!",answers:{true:["сюда"],false:["здесь","там"]}},{question:"Антон хочет <skip></skip> новые стихи.",answers:{true:["выучить"],false:["учить","изучить","заниматься"]}},{question:"Извините, вы не <skip></skip>, как вас зовут.",answers:{true:["сказали"],false:["рассказали","разговаривали"]}},{question:"Мы с подругой договорились <skip></skip> у входа в метро.",answers:{true:["встретиться"],false:["встречать","встретить"]}},{question:"Я где-то <skip></skip> этого человека.",answers:{true:["видел"],false:["смотрел","помнил"]}},{question:"<skip></skip> сорок пять лет.",answers:{true:["Нашему директору"],false:["Наш директор","Нашего директора","С нашим директором"]}},{question:"Жаль, что у нас тогда не было <skip></skip>.",answers:{true:["этой машины"],false:["эта машина","эту машину","на этой машине"]}},{question:"Анна написала мне <skip></skip>.",answers:{true:["о своих друзьях"],false:["свои друзья","своих друзей","своим друзьям"]}},{question:"Каникулы начинаются <skip></skip>.",answers:{true:["через неделю"],false:["неделю назад","через неделя","неделя"]}},{question:"Мой брат женился <skip></skip>.",answers:{true:["первого августа"],false:["август","первое августа"]}},{question:"Я долго <skip></skip> его номер телефона.",answers:{true:["вспоминала"],false:["вспомнила","вспомню"]}},{question:"Я <skip></skip> визу в Россию и скоро уезжаю.",answers:{true:["получил"],false:["получал","брал"]}},{question:"Ты <skip></skip> сегодня в цирк?",answers:{true:["идёшь"],false:["ходишь","будешь ходить"]}},{question:"До музея мы <skip></skip> на автобусе.",answers:{true:["ехали"],false:["ходили","шли"]}},{question:"Летом я часто <skip></skip> на дачу.",answers:{true:["буду ездить"],false:["поеду","еду"]}},{question:"&mdash; Игорь дома, &mdash; Нет, он <skip></skip> в кино.",answers:{true:["пошёл"],false:["шёл","пришёл","подошёл"]}},{question:"Врач <skip></skip> из кабинета, и через пять минут вернулся.",answers:{true:["вышел"],false:["шёл","вошёл","ушёл"]}},{question:"Я сказал Михаилу, <skip></skip> он купил продукты.",answers:{true:["чтобы"],false:["что","поэтому"]}},{question:"Расскажи, <skip></skip> ты встретил в клубе?",answers:{true:["кого"],false:["кто","кому","с кем"]}}]},{caption:"B1",questions:[{question:"Я еду в Россию <skip></skip>.",answers:{true:["на один год"],false:["один год","за один год"]}},{question:"Дома нет сахара, я его <skip></skip>.",answers:{true:["куплю"],false:["покупаю","буду покупать"]}},{question:"Мы поднялись <skip></skip>.",answers:{true:["наверх"],false:["наверху","вниз"]}},{question:"Банк работает <skip></skip> 9 часов.",answers:{true:["с"],false:["во время","от","в","за"]}},{question:"После жаркого дня, наконец, <skip></skip> вечер.",answers:{true:["наступил"],false:["выступил","поступил"]}},{question:"Мы проехали мимо <skip></skip>.",answers:{true:["остановки"],false:["остановку","остановке"]}},{question:"Сейчас в магазине перервы до <skip></skip>.",answers:{true:["трёх часов"],false:["три часа","трём часам"]}},{question:"У меня болит рука, завтра пойду <skip></skip>.",answers:{true:["к хирургу"],false:["с хирургом","у хирурга"]}},{question:"Сегодня по телевизору идёт <skip></skip>.",answers:{true:["интересная передача"],false:["интересную передачу","интересной передачей","интересной передачи"]}},{question:"Молодые артисты будут участвовать <skip></skip>.",answers:{true:["в новой комедии"],false:["новую комедию","с новой комедией"]}},{question:"Архангельск стоит на берегу <skip></skip>.",answers:{true:["Белого моря"],false:["Белым морем","Белому морю","Белом море"]}},{question:"Работа водителя автобуса требует <skip></skip>.",answers:{true:["большого внимания"],false:["большое внимание","с большим вниманием","о большом внимании"]}},{question:"Юрий Гагарин полетел в космос <skip></skip>.",answers:{true:["в 1961-ом году"],false:["1961-го года","1961-й год"]}},{question:"Борис начал работать 30 марта <skip></skip>.",answers:{true:["1961-го года"],false:["1961-й год","в 1961-ом года"]}},{question:"Я знаю писателя, <skip></skip> вы обсуждали.",answers:{true:["которого"],false:["который","которому","о котором"]}},{question:"Банк уже закрыт, я не успел <skip></skip> деньги.",answers:{true:["поменять"],false:["поменяю","менять"]}},{question:"Мне <skip></skip> звонил сегодня?",answers:{true:["кто-нибудь"],false:["кое-кто","кто-то"]}},{question:"Мне надо о <skip></skip> с тобой поговорить.",answers:{true:["кое-чём"],false:["чём-нибудь","чём-то"]}},{question:"Что вы делали вчера? Мы <skip></skip> детей в кинотеатр.",answers:{true:["водили"],false:["вели","ведём"]}},{question:"Она первый раз в Москве? Нет, она <skip></skip> сюда в прошлом году.",answers:{true:["приезжала"],false:["ездила","приехала"]}}]},{caption:"B2",questions:[{question:"На заседании Совета с кратким сообщением <skip></skip> ученый секретарь Смирнова.",answers:{true:["выступила"],false:["выступили","выступал","выступил"]}},{question:"В этом году сборник тезисов <skip></skip> актуальным проблемам внешней политики.",answers:{true:["посвящён"],false:["посвящены","посвящённый","посвящено"]}},{question:"До отхода поезда <skip></skip> полчаса, успеем выпить по чашечке кофе.",answers:{true:["осталось"],false:["остались","остаются","останутся"]}},{question:"В библиотеке современной поэзии, которую я начал собирать, <skip></skip> около 500 книг.",answers:{true:["насчитывается"],false:["насчитывались","насчитываются","насчитается"]}},{question:"Приведённые вами доказательства представляются мне <skip></skip>.",answers:{true:["неубедительными"],false:["неубедительные","не убедительно","не убедительны"]}},{question:"Всё то, что рассказал в своем выступлении этот выдающийся политик, <skip></skip>.",answers:{true:["интересно и ново"],false:["интересное и новое","интересный и новый","интересен и нов"]}},{question:"Ужасно болит горло. Не <skip></skip> ни кусочка.",answers:{true:["проглотить"],false:["глотать","заглотить"]}},{question:"Куда-то пропали книги! Кто <skip></skip> в аудиторию?",answers:{true:["входил"],false:["вошёл","был"]}},{question:"Не <skip></skip> я вчера на свидание, мы бы не поссорились.",answers:{true:["опоздай"],false:["опаздывай","опаздываю"]}},{question:"&mdash; Тебе понравился спектакль? &mdash; Трудно <skip></skip> однозначно. И да, и нет.",answers:{true:["ответить"],false:["отвечать","решить","решать"]}},{question:"С вашим предложением трудно не <skip></skip>. Оно учитывает все наши замечания.",answers:{true:["согласиться"],false:["соглашаться","спорить","поспорить"]}},{question:"Хорошо, если ваши желания соответствуют <skip></skip>.",answers:{true:["вашим возможностям"],false:["ваши возможности","для ваших возможностей","с вашими возможностями"]}},{question:"Остановки для отдыха гонщики делали всего <skip></skip> минут.",answers:{true:["на несколько"],false:["несколько","за несколько","в несколько"]}},{question:"<q>До встречи на финише <skip></skip></q>, &mdash; сказали нам спортсмены, когда мы брали у них интервью.",answers:{true:["через сутки"],false:["после суток","за сутки","на сутки"]}},{question:"Юрий справился со всеми проблемами <skip></skip> родителей.",answers:{true:["благодаря помощи"],false:["через помощь","в связи с помощью","от помощи"]}},{question:"Лев Толстой писал, что все счастливые семьи <skip></skip> друг на друга.",answers:{true:["похожи"],false:["одинаковые","разные"]}},{question:"Такого озера больше нигде нет, оно <skip></skip> в мире.",answers:{true:["единственное"],false:["редкое","единое"]}},{question:"Марина несколько дней думала о книге, <skip></skip> недавно.",answers:{true:["прочитанной"],false:["прочитанную","прочитавший"]}},{question:"С это просьбой вам нужно обратиться <skip></skip>.",answers:{true:["к генеральному директору"],false:["с генеральным директором","генерального директора"]}},{question:"<skip></skip> домой, мы поужинали и посмотрели телевизор.",answers:{true:["Вернувшись"],false:["Уходя","Возвращаясь"]}}]}]}),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var t={};var n={getItem:function(e){return e in t?t[e]:null},setItem:function(e,s){return t[e]=s,!0},removeItem:function(e){return!!(e in t)&&delete t[e]},clear:function(){return t={},!0}};var i=function(e){const s=function(e){try{return JSON.parse(e)}catch(s){return e}}(e);return void 0===s?null:s},a={};function r(e){e||(e=s.event);var t=a[e.key];t&&t.forEach((function(s){s(i(e.newValue),i(e.oldValue),e.url||e.uri)}))}var o=function(e,t){a[e]?a[e].push(t):a[e]=[t],s.addEventListener?s.addEventListener("storage",r,!1):s.attachEvent?s.attachEvent("onstorage",r):s.onstorage=r},u=function(e,s){var t=a[e];t.length>1?t.splice(t.indexOf(s),1):a[e]=[]},l="localStorage"in s&&s.localStorage?s.localStorage:n;function p(e,s){return 1===arguments.length?k(e):f(e,s)}function k(e){const s=l.getItem(e);return i(s)}function f(e,s){try{return l.setItem(e,JSON.stringify(s)),!0}catch(e){return!1}}p.set=f,p.get=k,p.remove=function(e){return l.removeItem(e)},p.clear=function(){return l.clear()},p.backend=function(e){return e&&(l=e),l},p.on=o,p.off=u;var c,d=p,w=(c=e)&&c.default||c;w.forEach((e,s)=>e.questions.forEach(e=>e.testIndex=s));const q=[];let h=!1;function v(e,s){const t=this.options[this.selectedIndex].value;q[e.testIndex].answers[s]=t,function(e){try{d(e,q[e])}catch(e){console.error(e)}}(e.testIndex),y(this,e,t)}function m(e,s){const t=e.selectAll("div").data(s,e=>e.caption);t.exit().remove();const n=t.enter().append("div");n.append("h2").html(e=>"Livello "+e.caption);const i=n.append("ol").classed("questions",!0).selectAll("li").data(e=>e.questions).enter().append("li").classed("question",!0).html(e=>e.question).select("skip").append("select").on("change",v);i.selectAll("option").data(e=>function(e){let s,t;for(let n=0;n<e.length;n+=1)s=Math.floor(Math.random()*(n+1)),t=e[s],e[s]=e[n],e[n]=t;return e}(e.answers.true.concat(e.answers.false))).enter().append("option").html(e=>e).filter((function(e){return d3.select(this.parentNode).datum().answer==e})).attr("selected","selected");i.filter(e=>null==e.answer).append("option",":first-child").attr("selected","selected").attr("disabled","").style("display","none").html("&#160;")}function g(){const e=d3.selectAll(".question"),s={answered:0,valid:0,total:0};return e.each((function(e,t){const n=d3.select(this).select("select").node(),i=n.options[n.selectedIndex].value,a=e.answers.true.includes(i),r=e.answers.false.includes(i),o=a||r;s.valid+=0|a,s.answered+=0|o,s.total+=1})),s}function y(e,s,t){const n=h&&s.answers.false.includes(t);d3.select(e).classed("wrong",n)}function E(e){if(h=e,!e)return;d3.selectAll(".question").each((function(e,s){const t=d3.select(this).select("select").node();y(t,e,t.options[t.selectedIndex].value)}))}function I(e){d3.select("#test-result").html((function(){let s="";if(e.answered<e.total)s+="<p>Per ottenere il risultato devi rispondere a tutte le domande del livello.</p>",s+="<p>Adesso hai risposto a "+e.answered+" domande su "+e.total+".</p>";else{const t=15;s+="<p>Hai risposto corretamente a "+e.valid+" domande su "+e.total+" <p>",e.valid<t?s+="<p>Devi rispondere corretamente ad almeno "+t+" domande su "+e.total+" per passare il livello.</p>":s+="<p>Ottimo! Il livello è superato.</p>",s+="<p>Contattaci per fissare l’incontro personale gratuito e concludere la verifica del tuo livello con un colloquio orale.</p>"}return s}))}var b,x,A;b=function(){const e=d3.select("#test-content"),s=d3.select("#level-buttons").selectAll("li").data(w).enter().append("li").html(e=>e.caption).on("click",t);function t(t,n){t.questions.forEach((e,s)=>e.answer=q[n].answers[s]),E(!1),m(e,[t]),function(e,s){e.each((function(e){d3.select(this).classed("selected",s==e)}))}(s,t),I(g())}w.forEach((e,s)=>{q[s]=d(s)||{caption:e.caption,answers:[]}}),t(w[0],0),d3.select("#button-calculate").on("click",e=>{const s=g(),t=s.answered==s.total;I(s),t&&E(!0)})},A=function(){document.removeEventListener("readystatechange",x),window.removeEventListener("load",A),b()},(x=function(){if("loading"===document.readyState)return!0;A()})()&&(document.addEventListener("readystatechange",x),window.addEventListener("load",A))}));
